# SHA-256（安全哈希算法256位）

## 目錄

- [1. 介紹](#1-介紹)
- [2. SHA-256的工作原理](#2-sha-256的工作原理)
  - [2.1 分塊處理](#21-分塊處理)
  - [2.2 初始化哈希值](#22-初始化哈希值)
  - [2.3 計算過程](#23-計算過程)
  - [2.4 最終輸出](#24-最終輸出)
- [3. SHA-256的特點](#3-sha-256的特點)
- [4. SHA-256的應用](#4-sha-256的應用)
  - [4.1 數字簽名和驗證](#41-數字簽名和驗證)
  - [4.2 區塊鏈](#42-區塊鏈)
  - [4.3 數據完整性檢查](#43-數據完整性檢查)
  - [4.4 密碼存儲](#44-密碼存儲)
- [5. SHA-256的優缺點](#5-sha-256的優缺點)
  - [5.1 優點](#51-優點)
  - [5.2 缺點](#52-缺點)
- [6. 結論](#6-結論)
- [7. 實際用法](#7-實際用法)
  - [7.1 使用Python計算SHA-256](#71-使用python計算sha-256)
  - [7.2 使用JavaScript計算SHA-256](#72-使用javascript計算sha-256)
  - [7.3 使用OpenSSL命令行工具](#73-使用openssl命令行工具)

## 1. 介紹

SHA-256（Secure Hash Algorithm 256-bit）是由美國國家安全局（NSA）設計的加密哈希函數，屬於SHA-2（安全哈希算法第二版）家族的一部分。SHA-256生成一個256位長的哈希值，它被廣泛應用於數字簽名、區塊鏈技術、數據完整性驗證等領域。

SHA-256是對輸入數據進行不可逆運算的算法，通過將任意長度的輸入數據（如文字、檔案、消息等）轉換為一個固定大小的256位哈希值。即使輸入數據的微小改變，也會導致哈希值的巨大變化，這樣可以有效檢測數據在傳輸過程中的任何改動。

## 2. SHA-256的工作原理

### 2.1 分塊處理

1. **填充（Padding）**：首先，將輸入數據填充到一個符合特定長度的格式。填充是根據數據的位元長度來進行的，確保數據長度是512位的倍數。填充過程中，會將一個1位元加到數據末尾，然後加入若干0位元，直到數據長度符合要求。最後，填充的數據會附加上原始數據的長度。

2. **消息分塊**：填充後的數據會被分為512位的塊。每個塊會被逐個處理。

### 2.2 初始化哈希值

SHA-256使用一組常數初始化哈希值，這些常數來自於平方根的分數部分。這些初始化哈希值在每一輪計算中都會進行更新。

### 2.3 計算過程

每個512位的數據塊會被分為16個32位的子塊。然後，SHA-256會對每個數據塊進行64輪的哈希運算。在每一輪中，會使用預先定義的常數、當前的數據塊和之前的哈希值進行一系列的位元操作（如加法、位移、邏輯運算等），最終生成新的哈希值。

### 2.4 最終輸出

經過所有分塊的處理後，最終生成的256位哈希值就是SHA-256的輸出。

## 3. SHA-256的特點

- **固定長度輸出**：無論輸入數據的大小如何，SHA-256始終輸出一個256位（32字節）的哈希值。
- **單向性**：SHA-256是單向的，這意味著無法從哈希值推算回原始數據。
- **碰撞抗性**：SHA-256具有較高的碰撞抗性，即很難找到兩個不同的輸入數據對應相同的哈希值。
- **雪崩效應**：即使輸入數據的微小變動，也會導致哈希值的巨大改變。

## 4. SHA-256的應用

### 4.1 數字簽名和驗證

SHA-256經常用於數字簽名算法中。在進行簽名時，數據首先會被哈希化生成SHA-256哈希值，然後使用私鑰對哈希值進行簽名。接收方可以使用公鑰來驗證簽名的有效性。

### 4.2 區塊鏈

SHA-256是許多區塊鏈技術（如比特幣）的核心部分。在區塊鏈中，每個區塊的哈希值是依賴於前一區塊的哈希值，這樣形成一個鏈式結構，確保數據不可篡改。

### 4.3 數據完整性檢查

SHA-256可用於文件校驗，確保文件在傳輸過程中未被篡改。通過比較文件的SHA-256哈希值，可以檢查文件是否與源文件一致。

### 4.4 密碼存儲

SHA-256可以用於密碼存儲，對用戶密碼進行哈希化後存儲，從而提高安全性。儘管SHA-256本身並非專門為密碼存儲設計，但它仍然被廣泛應用。

## 5. SHA-256的優缺點

### 5.1 優點

- **高安全性**：SHA-256經過多年的實際應用和分析，對目前的計算能力來說非常安全。
- **廣泛應用**：SHA-256被多個行業標準和協議採用，如TLS、SSL、Bitcoin等。
- **效率**：SHA-256的計算速度相對較快，適用於需要高效哈希運算的場景。

### 5.2 缺點

- **計算資源消耗**：雖然SHA-256相對快速，但在一些資源受限的環境中，處理大量數據時會消耗較多的計算資源。
- **無法防止暴力破解**：如果用戶的密碼過於簡單，SHA-256無法有效防止暴力破解攻擊。

## 6. 結論

SHA-256是目前最常用且最安全的加密哈希算法之一。它在數字簽名、區塊鏈、數據完整性檢查等多個領域中得到廣泛應用。儘管它存在一些計算資源消耗的問題，但由於其高安全性，SHA-256仍然是許多加密應用中不可或缺的一部分。

## 7. 實際用法

### 7.1 使用Python計算SHA-256

在Python中，可以使用`hashlib`庫來計算SHA-256哈希值。以下是範例程式碼：

```python
import hashlib

# 計算字符串的SHA-256
data = "Hello, SHA-256!"
hash_object = hashlib.sha256(data.encode())
hex_dig = hash_object.hexdigest()

print(f"SHA-256哈希值: {hex_dig}")
```